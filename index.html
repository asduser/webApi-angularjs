<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Webapi-angularjs by asduser</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Webapi-angularjs</h1>
      <h2 class="project-tagline">webApi client-side manager using Angular.js</h2>
      <a href="https://github.com/asduser/webApi-angularjs" class="btn">View on GitHub</a>
      <a href="https://github.com/asduser/webApi-angularjs/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/asduser/webApi-angularjs/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="webapi-angularjs" class="anchor" href="#webapi-angularjs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>webApi-angularjs</h1>

<p>RESTful webApi module using Angular.js.</p>

<h2>
<a id="advantages" class="anchor" href="#advantages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Advantages</h2>

<ol>
<li> Simple to manage, scalable. </li>
<li> Has a special formatter which allows user to work with objects inside $http methods. </li>
<li> Independent module which may be integrated into different Angular.js application. </li>
</ol>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Inject module into your Angular.js application:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// ...</span>
<span class="pl-smi">angular</span>.<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>myApp<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>_webApi_<span class="pl-pds">'</span></span>]);
<span class="pl-c">// ...</span></pre></div>

<p>To edit any global parameter use <em>"config/webApiSettings.js"</em> file. First of all, you need to change the DOMAIN field:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-s"><span class="pl-pds">"</span>DOMAIN<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>http:// {YourApiUrl} /<span class="pl-pds">"</span></span>,</pre></div>

<p>Edit <em>"main/requests.js"</em> to add a new webApi methods into your app:</p>

<div class="highlight highlight-source-js"><pre>{ Url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>api/users/get-all<span class="pl-pds">'</span></span>, CustomOptions<span class="pl-k">:</span> <span class="pl-c1">false</span>, Method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>get<span class="pl-pds">'</span></span>, InvokeName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>getUsers<span class="pl-pds">'</span></span> }</pre></div>

<p><b> Url </b> - existing api-method to send http-request.</p>

<p><b> CustomOptions </b> - true\false to use a 3-rd 'options' parameter in requests. This is helpful when you need use a specific CORS modificators. See examples for details.</p>

<p><b> Method </b> - type of http-method (GET, POST, PUT, DELETE, UPDATE etc.).</p>

<p><b> InvokeName </b> - internal method name to invoke it within application and establish a connection with webApi module.</p>

<h2>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to use</h2>

<ol>
<li>Go to <em>webApi/categories/</em> directory.</li>
<li>Create a new file, which will be responsible for some functional requests group to work with API. For example: if you have a lot of similar requests which contain some repeating code, just include them into appropriate category ( 'api/food/manage/{id}/delete', 'api/food/manage/{id}/update' -&gt; <em>foodManage.js</em>).</li>
<li>Fill each request using an existing template (see '<em>webApi/categories/account.js</em>' file).</li>
<li>Then add your created constant name into '<em>webApi/categories-handler/requests.js</em>'.</li>
<li>Now you may use new methods in application via special "InvokeName" parameter.</li>
</ol>

<p>In controller:</p>

<div class="highlight highlight-source-js"><pre>
(<span class="pl-k">function</span>(){

   <span class="pl-s"><span class="pl-pds">"</span>use strict<span class="pl-pds">"</span></span>;

   angular
       .<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">"</span>myApp<span class="pl-pds">"</span></span>, [<span class="pl-s"><span class="pl-pds">"</span>_webApi_<span class="pl-pds">"</span></span>])
       .<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">"</span>myCtrl<span class="pl-pds">"</span></span>, myCtrl);

   <span class="pl-c">/**</span>
<span class="pl-c">    * Declare a main controller.</span>
<span class="pl-c">    * <span class="pl-k">@param</span> $scope</span>
<span class="pl-c">    * <span class="pl-k">@param</span> {"webApi"} webApi</span>
<span class="pl-c">    */</span>
   <span class="pl-k">function</span> <span class="pl-en">myCtrl</span>(<span class="pl-smi">$scope</span>, <span class="pl-smi">webApi</span>){

        <span class="pl-smi">$scope</span>.<span class="pl-c1">title</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Test Controller<span class="pl-pds">"</span></span>;

       <span class="pl-c">// This is just test data to represent a current version of webApi library.</span>
       <span class="pl-c">// To edit an existing request go to the "webApi/categories/" directory.</span>

       <span class="pl-c">// e.g. # 1</span>
       <span class="pl-smi">webApi</span>.<span class="pl-en">login</span>({
        <span class="pl-s"><span class="pl-pds">"</span>Login<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Test<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Password<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>qwerty<span class="pl-pds">"</span></span>
       }).<span class="pl-en">success</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>){ 
            <span class="pl-c">//some actions...  </span>
        });

       <span class="pl-c">// e.g. # 2</span>
       <span class="pl-smi">webApi</span>.<span class="pl-en">logout</span>([]).<span class="pl-en">success</span>(<span class="pl-k">function</span>(<span class="pl-smi">data</span>){ 
            <span class="pl-c">//some actions...  </span>
        });

   }

   <span class="pl-c">// Ioc container.</span>
   <span class="pl-smi">myCtrl</span>.<span class="pl-smi">$inject</span> <span class="pl-k">=</span> [
       <span class="pl-s"><span class="pl-pds">"</span>$scope<span class="pl-pds">"</span></span>,
       <span class="pl-s"><span class="pl-pds">"</span>webApi<span class="pl-pds">"</span></span>
   ];

})();
</pre></div>

<h2>
<a id="samples" class="anchor" href="#samples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Samples</h2>

<p>DOMAIN: <a href="http://yourdomain.com/">http://yourdomain.com/</a> </p>

<h3>
<a id="-get-methods-" class="anchor" href="#-get-methods-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>*** GET-methods ***</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-c">/**************************/</span>
<span class="pl-c">/* Get all existing news. */</span>
<span class="pl-c">/**************************/</span>

<span class="pl-c">// Declare request.</span>
{ Url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>admin/news/<span class="pl-pds">'</span></span>, CustomOptions<span class="pl-k">:</span> <span class="pl-c1">false</span>, Method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>get<span class="pl-pds">'</span></span>, InvokeName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>getNews<span class="pl-pds">'</span></span> }

<span class="pl-c">// Invoke method and specify an appropriate arguments.</span>
<span class="pl-smi">webApi</span>.<span class="pl-en">getNews</span>([]).<span class="pl-en">success</span>( <span class="pl-c">// ...some actions...</span>

<span class="pl-c">// Your request is: http://yourdomain.com/admin/news/</span>


<span class="pl-c">/*************************************/</span>
<span class="pl-c">/* Get news details by specified ID. */</span>
<span class="pl-c">/*************************************/</span>

<span class="pl-c">// Declare request. Case # 1.</span>
{ Url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>admin/news/<span class="pl-pds">'</span></span>, CustomOptions<span class="pl-k">:</span> <span class="pl-c1">false</span>, Method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>get<span class="pl-pds">'</span></span>, InvokeName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>getNewsDetailsById<span class="pl-pds">'</span></span> }

<span class="pl-c">// Invoke method and specify an appropriate arguments.</span>
<span class="pl-smi">webApi</span>.<span class="pl-en">getNewsDetailsById</span>([<span class="pl-c1">3</span>]).<span class="pl-en">success</span>( <span class="pl-c">// ...some actions...</span>

<span class="pl-c">// Your request is: http://yourdomain.com/admin/news/3</span>


<span class="pl-c">// Declare request. Case # 2.</span>
{ Url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>admin/news/{id}/title<span class="pl-pds">'</span></span>, CustomOptions<span class="pl-k">:</span> <span class="pl-c1">false</span>, Method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>get<span class="pl-pds">'</span></span>, InvokeName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>getNewsDetailsById<span class="pl-pds">'</span></span> }

<span class="pl-c">// Invoke method and specify an appropriate arguments.</span>
<span class="pl-smi">webApi</span>.<span class="pl-en">getNewsDetailsById</span>({
  url<span class="pl-k">:</span> { id<span class="pl-k">:</span> <span class="pl-c1">3</span>}
}).<span class="pl-en">success</span>( <span class="pl-c">// ...some actions...</span>

<span class="pl-c">// Your request is: http://yourdomain.com/admin/news/3/title</span>


<span class="pl-c">// Declare request. Case # 3.</span>
{ Url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>admin/news<span class="pl-pds">'</span></span>, CustomOptions<span class="pl-k">:</span> <span class="pl-c1">false</span>, Method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>get<span class="pl-pds">'</span></span>, InvokeName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>getNewsDetailsById<span class="pl-pds">'</span></span> }

<span class="pl-c">// Invoke method and specify an appropriate arguments.</span>
<span class="pl-smi">webApi</span>.<span class="pl-en">getNewsDetailsById</span>({
  before<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>10<span class="pl-pds">'</span></span>],
  after<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">"</span>category<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>sport<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>period<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>week<span class="pl-pds">"</span></span> }
}).<span class="pl-en">success</span>( <span class="pl-c">// ...some actions...</span>

<span class="pl-c">// Your request is: http://yourdomain.com/admin/news/10?category=sport&amp;period=week</span>
</pre></div>

<h3>
<a id="-post-methods-" class="anchor" href="#-post-methods-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>*** POST-methods ***</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-c">/*************************************/</span>
<span class="pl-c">/* Login into account. */</span>
<span class="pl-c">/*************************************/</span>

<span class="pl-c">// Declare request.</span>
{ Url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>api/login<span class="pl-pds">'</span></span>, CustomOptions<span class="pl-k">:</span> <span class="pl-c1">false</span>, Method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>post<span class="pl-pds">'</span></span>, InvokeName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>login<span class="pl-pds">'</span></span> }

<span class="pl-c">// Invoke method and specify an appropriate arguments.</span>
<span class="pl-k">var</span> request <span class="pl-k">=</span> {
  Login<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>,
  <span class="pl-c1">Password</span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>test1<span class="pl-pds">"</span></span>
};
<span class="pl-smi">webApi</span>.<span class="pl-en">login</span>(request).<span class="pl-en">success</span>( <span class="pl-c">// ...some actions...</span>

<span class="pl-c">// Your request is: http://yourdomain.com/api/login</span>
<span class="pl-c">// Request model is: { Login: "test", Password: "test1" }</span>
</pre></div>

<h3>
<a id="-put-methods-" class="anchor" href="#-put-methods-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>*** PUT-methods ***</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-c">/*************************************/</span>
<span class="pl-c">/* Update user details. */</span>
<span class="pl-c">/*************************************/</span>

<span class="pl-c">// Declare request.</span>
{ Url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>admin/manage/{id}/{action}<span class="pl-pds">'</span></span>, CustomOptions<span class="pl-k">:</span> <span class="pl-c1">false</span>, Method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>put<span class="pl-pds">'</span></span>, InvokeName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>updateUser<span class="pl-pds">'</span></span> }

<span class="pl-c">// Invoke method and specify an appropriate arguments.</span>
<span class="pl-smi">webApi</span>.<span class="pl-en">updateUser</span>({
  url<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">10</span>, <span class="pl-s"><span class="pl-pds">"</span>action<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>update<span class="pl-pds">"</span></span> },
  data<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Bob<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">20</span> }
}).<span class="pl-en">success</span>( <span class="pl-c">// ...some actions...</span>

<span class="pl-c">// Your request is: http://yourdomain.com/admin/manage/10/update</span>
<span class="pl-c">// Request model is: { "name": "Bob", "age": 20 }</span>
</pre></div>

<h3>
<a id="-delete-methods-" class="anchor" href="#-delete-methods-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>*** DELETE-methods ***</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-c">/*************************************/</span>
<span class="pl-c">/* Delete user. */</span>
<span class="pl-c">/*************************************/</span>

<span class="pl-c">// Declare request.</span>
{ Url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>admin/delete-user/{id}<span class="pl-pds">'</span></span>, CustomOptions<span class="pl-k">:</span> <span class="pl-c1">false</span>, Method<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>delete<span class="pl-pds">'</span></span>, InvokeName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>deleteUser<span class="pl-pds">'</span></span> }

<span class="pl-c">// Invoke method and specify an appropriate arguments.</span>
<span class="pl-smi">webApi</span>.<span class="pl-en">updateUser</span>({
  url<span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">10</span> }
}).<span class="pl-en">success</span>( <span class="pl-c">// ...some actions...</span>

<span class="pl-c">// Your request is: http://yourdomain.com/admin/delete-user/10</span>
</pre></div>

<h3>
<a id="-sending-a-request-options-" class="anchor" href="#-sending-a-request-options-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>*** Sending a request options ***</h3>

<p>To send a specific request options, foremost CustomOptions: <b>true</b>. in "<i>requests.js</i>". Then use a following syntax:
You may specify there 'headers', 'responseType', 'timeout' etc. See <a href="https://docs.angularjs.org/api/ng/service/%24http">https://docs.angularjs.org/api/ng/service/$http</a> in section "Arguments" for details.</p>

<p>Case # 1.
Inside array, the last argument - is an option object. Example: </p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">webApi</span>.<span class="pl-en">getUserInfo</span>([<span class="pl-c1">10</span>, {<span class="pl-s"><span class="pl-pds">"</span>headers<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>Content-Type<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>text/plain<span class="pl-pds">"</span></span>} } ]);
</pre></div>

<p>Case # 2.
If using an object, just designate an appropriate field within request. Example: </p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">webApi</span>.<span class="pl-en">login</span>({
  Login<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>,
  <span class="pl-c1">Password</span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>pass<span class="pl-pds">'</span></span>,
  options<span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>timeout<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">100</span>}
});</pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/asduser/webApi-angularjs">Webapi-angularjs</a> is maintained by <a href="https://github.com/asduser">asduser</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
